\section{Evaluation}
\label{Eva}

In this section, we describle our performance evaluation in simulation and
real-scene experiments. We distribute 130 TI SensorTag sensors in an about
$250~\times~250$ square meters area, with contiki-ng as its operating system. We
use different metrics for various applications and compare our works with other
state-of-the-art works.

\subsection{Routing}
\textbf{Total throughput}

\begin{figure}[htbp]
	\centering
	\includegraphics[width=.85\columnwidth]{Figure/throughput}
	\vspace{-0.1in}
	\caption{Routing throughput.
		\textnormal{
			The figure shows throughput corresponding to three kinds of Routing
			algorithms. Throughput can drop to zero when some key nodes are dead
			in the network.
		}}
	\label{fig:throughput}
\end{figure}

Throughput is defined as the proportion of the total data packets recieved by
data sink and the the total data packets sent by all nodes, and it can be
formulated as

\begin{equation}
	T = \frac{\sum_{i = 0}^{N}S_i}{R}
\end{equation}

where $T$ reprents the throughput, and $S_i$ and $R$ denotes the number of
packets sent by the $i$-th node and the number of packets recieved by data
sink, respectively.

Figure~\ref{fig:throughput} compares network throughput by deploying various
routing algorithms. As our {\sdn} uses OSPF, which finds the optimal path from
sensors to data sink, to caculate the route table, its throughput exceeds RPL
and LEACH. Besides, in {\sdn}, sensors' lifetime increases a lot more than
others, because all computation-intensive tasks are done by UAV and sensors do
not need to send packets to negotiate route path, which decrease the energy
consumption with no doubt.

\textbf{Fault-tolerance}

\textbf{Scalability}

\subsection{Network Diagnosis}
\textbf{Robustness}

\subsection{AI Node Selection}
\textbf{Scalability}

\subsection{AI Energy Prediction}

We estimate sensor energy consumption by multipling different coefficients on
CPU running time and radio listening and transmitting time and summing them up.
The coefficients are proportional to the working current described in sensor's
DataSheet.

\textbf{Prediction accuracy}

\begin{figure}[htbp]
	\hspace{-0.3cm}
	\centering
	\subfloat[Energy prediction]{
		\includegraphics[width=.43\columnwidth]{Figure/energy_pred}
		\label{fig:energy_pred:a}
	}
	\hspace{0.3cm}
	\subfloat[Energy prediction error]{
		\includegraphics[width=.43\columnwidth]{Figure/energy_pred_err}
		\label{fig:energy_pred:b}
	}
	\vspace{-0.1in}
	\caption{Energy prediction
		\textnormal{
			We use regression method to predict energy consumption and the
			prediction result is consistent with the truthground.  The absolute
			error of energy prediction never exceeds 0.05 with normalized energy
			(i.e. the maximum energy of a sensor is 1).
		}
	}
	\label{fig:energy_pred}
\end{figure}

\subsection{Multi-tasks}
\textbf{Energy Performance}
\textbf{Scalability}
\begin{figure}[htbp]
	\centering
	\includegraphics[width=.85\columnwidth]{Figure/multitask_energy}
	\vspace{-0.1in}
	\caption{Average energy consumption with and without multitask schedule
		\textnormal{When with multitask schedule, sensor consumes half of the energy
			comparing to when without multitask schedule.}}
	\label{fig:multitask_energy}
\end{figure}
